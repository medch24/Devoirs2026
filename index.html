<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail de Suivi des Devoirs</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <!-- Vue Principale (Accueil) -->
        <div id="home-view">
            <header>
                <h1>Portail de Suivi des Devoirs</h1>
                <div class="language-selector">
                    <button id="lang-fr">Français</button>
                    <button id="lang-ar">العربية</button>
                </div>
            </header>
            <main class="main-menu">
                <button id="go-to-parent" class="role-button">Espace Parent</button>
                <button id="go-to-teacher" class="role-button">Espace Enseignant</button>
            </main>
        </div>

        <!-- Vue Espace Enseignant - Connexion -->
        <div id="teacher-login-view" class="view" style="display: none;">
            <header>
                <button class="back-button">&larr; Retour</button>
                <h1 id="teacher-login-title">Accès Enseignant</h1>
            </header>
            <main>
                <form id="teacher-login-form" class="login-form">
                    <input type="text" id="username" placeholder="Nom d'utilisateur" required>
                    <input type="password" id="password" placeholder="Mot de passe" required>
                    <button type="submit">Connexion</button>
                    <p id="login-error" class="error-message"></p>
                </form>
            </main>
        </div>
        
        <!-- Vue Espace Parent - Sélection -->
        <div id="parent-selection-view" class="view" style="display: none;">
            <header>
                <button class="back-button">&larr; Retour</button>
                <h1 id="parent-selection-title">Espace Parent</h1>
            </header>
            <main>
                <div class="selection-box">
                    <label for="class-select" id="class-select-label">Choisissez une classe :</label>
                    <select id="class-select">
                        <option value="">-- Sélectionnez --</option>
                    </select>
                </div>
                <div class="selection-box" id="student-selector-box" style="display:none;">
                    <label for="student-select" id="student-select-label">Choisissez votre enfant :</label>
                    <select id="student-select">
                        <option value="">-- Sélectionnez --</option>
                    </select>
                </div>
            </main>
        </div>

        <!-- Vue Espace Parent - Tableau de bord de l'élève -->
        <div id="student-dashboard-view" class="view" style="display: none;">
            <header>
                <button class="back-button">&larr; Retour</button>
                <h1 id="student-name-header"></h1>
            </header>
            <main>
                <div class="profile-section">
                    <img src="https://via.placeholder.com/100" alt="Photo de l'élève" class="student-photo">
                    <div class="thermometer-container">
                        <h3 id="weekly-progress-title">Progrès Général de la Semaine</h3>
                        <div class="thermometer">
                            <div class="thermometer-progress" id="thermometer-progress"></div>
                            <span class="thermometer-percentage" id="thermometer-percentage">0%</span>
                        </div>
                    </div>
                </div>

                <div class="homework-section">
                    <h2 id="today-homework-title">Devoirs pour Aujourd'hui</h2>
                    <div id="today-homework-list" class="homework-list">
                        <p id="today-loading">Chargement...</p>
                    </div>
                </div>

                <div class="homework-section">
                    <h2 id="past-homework-title">Historique des Devoirs (5 derniers jours)</h2>
                    <div id="past-homework-list" class="homework-list">
                         <p id="past-loading">Chargement...</p>
                    </div>
                </div>
            </main>
        </div>
        
        <!-- Vue Espace Enseignant - Tableau de bord -->
        <div id="teacher-dashboard-view" class="view" style="display: none;">
            <header>
                <button class="back-button">&larr; Retour</button>
                <h1 id="teacher-dashboard-title">Tableau de Bord Enseignant</h1>
            </header>
            <main>
                 <div class="selection-box-teacher">
                    <label for="teacher-class-select" id="teacher-class-label">Classe :</label>
                    <select id="teacher-class-select"></select>
                    <label for="teacher-subject-select" id="teacher-subject-label">Matière du devoir :</label>
                    <input type="text" id="teacher-subject-select" placeholder="Ex: Mathématiques">
                </div>
                <div id="evaluation-table-container">
                    <!-- Le tableau sera généré par JS -->
                </div>
                <button id="submit-evaluations" class="submit-button">Envoyer les Évaluations</button>
                <p id="submit-success-message" class="success-message"></p>
            </main>
        </div>

    </div>

    <script src="index.js"></script>
</body>
</html>